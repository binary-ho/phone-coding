# Line Comment κΈ°λ¥ κµ¬ν„ μƒνƒ

## μ™„λ£λ κµ¬ν„ (Phases 1-3)

### β… Phase 1: Line Comment λ¨λ“ (`src/line-comment.ts`)
- **μ™„λ£μΌ**: 2025-09-06
- **κµ¬ν„ λ‚΄μ©**:
  - `LineComment` μΈν„°νμ΄μ¤: λΌμΈλ³„ μ½”λ©νΈ λ°μ΄ν„° κµ¬μ΅°
  - `ReviewData` μΈν„°νμ΄μ¤: λ¦¬λ·° μ „μ²΄ λ°μ΄ν„° κµ¬μ΅°
  - `createLineComments()` ν•¨μ: GitHub Pull Request Review APIλ¥Ό μ‚¬μ©ν• λΌμΈ μ½”λ©νΈ μƒμ„±
  - `findExistingReview()` ν•¨μ: κΈ°μ΅΄ λ¦¬λ·° κ²€μƒ‰ κΈ°λ¥

### β… Phase 2: Diff Parser λ¨λ“ (`src/diff-parser.ts`)
- **μ™„λ£μΌ**: 2025-09-06
- **κµ¬ν„ λ‚΄μ©**:
  - `DiffLine` μΈν„°νμ΄μ¤: diff λΌμΈ λ°μ΄ν„° κµ¬μ΅°
  - `parseDiff()` ν•¨μ: git diff μ¶λ ¥μ„ νμ‹±ν•μ—¬ νμΌ κ²½λ΅, λΌμΈ λ²νΈ, λ³€κ²½ νƒ€μ… μ¶”μ¶

### β… Phase 3: AI Response Parser λ¨λ“ (`src/ai-response-parser.ts`)
- **μ™„λ£μΌ**: 2025-09-06
- **κµ¬ν„ λ‚΄μ©**:
  - `ParsedAIResponse` μΈν„°νμ΄μ¤: νμ‹±λ AI μ‘λ‹µ κµ¬μ΅°
  - `parseAIResponseForLineComments()` ν•¨μ: AI μ‘λ‹µμ—μ„ λΌμΈλ³„ μ½”λ©νΈ μ¶”μ¶ λ° κ²€μ¦

## λΉλ“ ν…μ¤νΈ κ²°κ³Ό

- **ν…μ¤νΈμΌ**: 2025-09-06
- **κ²°κ³Ό**: β… μ„±κ³µ
- **μƒμ„Έ**: 
  - TypeScript μ»΄νμΌ μ¤λ¥ μ—†μ
  - ncc λ²λ“¤λ§ μ„±κ³µ
  - μƒμ„±λ νμΌ: `dist/index.js` (2896kB), `dist/index.js.map` (3084kB)

## λ‹¨μ„ ν…μ¤νΈ κ²°κ³Ό

- **ν…μ¤νΈμΌ**: 2025-09-06
- **κ²°κ³Ό**: β… λ¨λ“  ν…μ¤νΈ ν†µκ³Ό
- **ν…μ¤νΈ ν†µκ³„**:
  - μ΄ ν…μ¤νΈ μ¤μ„νΈ: 7κ° (λ¨λ‘ ν†µκ³Ό)
  - μ΄ ν…μ¤νΈ μΌ€μ΄μ¤: 51κ° (λ¨λ‘ ν†µκ³Ό)
  - μ‹¤ν–‰ μ‹κ°„: 0.683μ΄

### μƒλ΅ μ¶”κ°€λ ν…μ¤νΈ νμΌ

#### β… `src/diff-parser.test.ts`
- **ν…μ¤νΈ μΌ€μ΄μ¤**: 11κ°
- **μ»¤λ²„λ¦¬μ§€**: 
  - λ‹¤μ–‘ν• diff ν•μ‹ νμ‹± (μ¶”κ°€/μ‚­μ /νΌν•© λΌμΈ)
  - μ—¬λ¬ νμΌ μ²λ¦¬
  - λ³µμ΅ν• λΌμΈ λ²νΈ μ¶”μ 
  - μ—£μ§€ μΌ€μ΄μ¤ (λΉ diff, μλ»λ ν•μ‹, λ°”μ΄λ„λ¦¬ νμΌ, νμΌ μ΄λ¦„ λ³€κ²½)

#### β… `src/ai-response-parser.test.ts`
- **ν…μ¤νΈ μΌ€μ΄μ¤**: 12κ°
- **μ»¤λ²„λ¦¬μ§€**:
  - μ ν¨ν• λΌμΈ μ½”λ©νΈ ν•μ‹ νμ‹±
  - μΌλ° μ½”λ©νΈμ™€ λΌμΈ μ½”λ©νΈ νΌν•© μ²λ¦¬
  - diff λΌμΈ κ²€μ¦ (μ΅΄μ¬ν•μ§€ μ•λ” λΌμΈ ν•„ν„°λ§)
  - μ—£μ§€ μΌ€μ΄μ¤ (λΉ μ‘λ‹µ, μλ»λ ν•μ‹, κ³µλ°± μ²λ¦¬, λ³µμ΅ν• νμΌ κ²½λ΅)

#### β… `src/line-comment.test.ts`
- **ν…μ¤νΈ μΌ€μ΄μ¤**: 15κ°
- **μ»¤λ²„λ¦¬μ§€**:
  - GitHub API νΈμ¶ λ¨ν‚Ή (`createReview`, `listReviews`)
  - `createLineComments` ν•¨μ ν…μ¤νΈ
  - `findExistingReview` ν•¨μ ν…μ¤νΈ
  - μ—λ¬ μ²λ¦¬ μ‹λ‚λ¦¬μ¤
  - μΈν„°νμ΄μ¤ κµ¬μ΅° κ²€μ¦

## μ™„λ£λ κµ¬ν„ (Phases 4-6)

### β… Phase 4: ν”„λ΅¬ν”„νΈ μμ • (`src/prompt.ts`)
- **μ™„λ£μΌ**: 2025-09-06
- **κµ¬ν„ λ‚΄μ©**:
  - `buildPromptWithLineComments()` ν•¨μ μ¶”κ°€
  - λΌμΈλ³„ μ½”λ©νΈ ν•μ‹ μ§€μ‹ ν”„λ΅¬ν”„νΈ κµ¬ν„ (ν•κµ­μ–΄)
  - AIμ—κ² "νμΌλ…:λΌμΈλ²νΈ: μ½”λ©νΈ λ‚΄μ©" ν•μ‹ μ§€μ‹
  - summarize λ¨λ“μ—μ„λ” κΈ°μ΅΄ `buildPrompt` ν•¨μ νΈμ¶

### β… Phase 5: λ©”μΈ λ΅μ§ ν†µν•© (`src/main.ts`)
- **μ™„λ£μΌ**: 2025-09-06
- **κµ¬ν„ λ‚΄μ©**:
  - `enable-line-comments` μ…λ ¥ νλΌλ―Έν„° μ²λ¦¬ μ¶”κ°€
  - λΌμΈ μ½”λ©νΈ λ¨λ“μ™€ μΌλ° μ½”λ©νΈ λ¨λ“ μ΅°κ±΄λ¶€ λ¶„κΈ° κµ¬ν„
  - μƒλ΅μ΄ λ¨λ“λ“¤ ν†µν•© (diff-parser, ai-response-parser, line-comment)
  - κΈ°μ΅΄ λ¦¬λ·° μ¤‘λ³µ λ°©μ§€ λ΅μ§ κµ¬ν„
  - λΌμΈ μ½”λ©νΈκ°€ μ—†μ„ λ• μΌλ° μ½”λ©νΈλ΅ ν΄λ°±ν•λ” λ΅μ§ μ¶”κ°€

### β… Phase 6: Action μ„¤μ • μ—…λ°μ΄νΈ (`action.yml`)
- **μ™„λ£μΌ**: 2025-09-06
- **κµ¬ν„ λ‚΄μ©**:
  - `enable-line-comments` μ…λ ¥ νλΌλ―Έν„° μ¶”κ°€
  - κΈ°λ³Έκ°’ 'false'λ΅ μ„¤μ •ν•μ—¬ κΈ°μ΅΄ λ™μ‘ μ μ§€
  - μ μ ν• μ„¤λ… μ¶”κ°€

## κΈ°μ μ  κ³ λ ¤μ‚¬ν•­

### κµ¬ν„λ κΈ°λ¥μ νΉμ§•
1. **λ¨λ“ν™”**: κ° κΈ°λ¥μ΄ λ…λ¦½μ μΈ λ¨λ“λ΅ λ¶„λ¦¬λμ–΄ μ μ§€λ³΄μμ„± ν–¥μƒ
2. **νƒ€μ… μ•μ „μ„±**: TypeScript μΈν„°νμ΄μ¤λ΅ λ°μ΄ν„° κµ¬μ΅° λ…ν™•ν μ •μ
3. **κ²€μ¦ λ΅μ§**: AI μ‘λ‹µμ λΌμΈ μ½”λ©νΈκ°€ μ‹¤μ  diffμ— μ΅΄μ¬ν•λ”μ§€ κ²€μ¦
4. **GitHub API νΈν™**: Pull Request Review API μ‚¬μ©μΌλ΅ μ‹¤μ  λΌμΈ μ½”λ©νΈ μƒμ„± κ°€λ¥

### μµμΆ… ν…μ¤νΈ κ²°κ³Ό
- **λΉλ“ ν…μ¤νΈ**: β… μ„±κ³µ (2025-09-06)
- **λ‹¨μ„ ν…μ¤νΈ**: β… λ¨λ“  ν…μ¤νΈ ν†µκ³Ό (51κ° ν…μ¤νΈ)
- **ν†µν•© ν…μ¤νΈ**: μ‹¤μ  PRμ—μ„μ ν…μ¤νΈ ν•„μ”

## κ²°λ΅ 

**π‰ λΌμΈ μ½”λ©νΈ κΈ°λ¥ κµ¬ν„ μ™„λ£!**

λ¨λ“  6κ° λ‹¨κ³„κ°€ μ„±κ³µμ μΌλ΅ μ™„λ£λμ—μµλ‹λ‹¤:
- β… **Phases 1-3**: ν•µμ‹¬ λ¨λ“ κµ¬ν„ (line-comment, diff-parser, ai-response-parser)
- β… **Phases 4-6**: λ©”μΈ λ΅μ§ ν†µν•© λ° μ„¤μ • μ—…λ°μ΄νΈ

### μ‚¬μ© λ°©λ²•
μ΄μ  μ›ν¬ν”λ΅μ°μ—μ„ λ‹¤μκ³Ό κ°™μ΄ λΌμΈ μ½”λ©νΈ κΈ°λ¥μ„ ν™μ„±ν™”ν•  μ μμµλ‹λ‹¤:

```yaml
- name: Run AI Code Reviewer with Line Comments
  uses: ./
  with:
    gemini-api-key: ${{ secrets.GEMINI_API_KEY }}
    github-token: ${{ secrets.GITHUB_TOKEN }}
    mode: 'review'
    enable-line-comments: 'true'  # λΌμΈ μ½”λ©νΈ ν™μ„±ν™”
```

### μ£Όμ” νΉμ§•
1. **ν•μ„ νΈν™μ„±**: κΈ°λ³Έκ°’μ΄ 'false'λ΅ μ„¤μ •λμ–΄ κΈ°μ΅΄ λ™μ‘ μ μ§€
2. **μ¤λ§νΈ ν΄λ°±**: λΌμΈ μ½”λ©νΈκ°€ μ—†μ„ λ• μλ™μΌλ΅ μΌλ° μ½”λ©νΈλ΅ μ „ν™
3. **μ¤‘λ³µ λ°©μ§€**: κΈ°μ΅΄ λ¦¬λ·°κ°€ μμ„ λ• μ¤‘λ³µ μƒμ„± λ°©μ§€
4. **μ™„μ „ν• ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€**: 51κ° ν…μ¤νΈλ΅ λ¨λ“  κΈ°λ¥ κ²€μ¦